# ğŸ§± AUDIT_TODO.md â€” Web-Sniffer : Plan dâ€™AmÃ©lioration Technique

## ğŸ”´ PRIORITÃ‰ 1 â€” Maintenance & FiabilitÃ© (immÃ©diate)
| TÃ¢che                                                                            | Statut                                                                                  |
| -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| DÃ©dupliquer la fonction `fetch`                                                  | âœ… Fait â€” `core/http_client.py` centralise dÃ©sormais `fetch`                             |
| Refactoriser les scripts dâ€™exÃ©cution (`multi_scrap.py`, `run_google_scraper.py`) | âœ… Fait â€” `multi_scrap.py` est un runner testable avec `run_all()`                       |
| Renforcer la couverture de tests unitaires                                       | âš ï¸ Partiellement â€” tests unitaires existants mais coverage < 70% pour certains scrapers |
| Centraliser les logs                                                             | âœ… Fait â€” tous les modules utilisent `core/logger`                                       |
| Isoler les fonctions de parsing                                                  | âœ… Fait â€” tout le parsing HTML/JSON est dans `core/parser`                               |

---

## ğŸŸ  PRIORITÃ‰ 2 â€” QualitÃ© de code & Outils
| TÃ¢che                                               | Statut                                                                                                     |
| --------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| Introduire le typage statique                       | âœ… Fait â€” tous les scrapers et `multi_scrap.py` typÃ©s avec `typing`                                         |
| Mettre en place le linting & formatting automatique | âš ï¸ Partiellement â€” config `pyproject.toml` prÃªte, mais Windows Powershell bloque parfois `mypy` et `black` |
| CrÃ©er `requirements-dev.txt`                        | âœ… Fait â€” contient `pytest`, `requests-mock`, `black`, `ruff`, `mypy`, `pytest-cov`                         |
| Configurer la CI/CD (GitHub Actions)                | âš ï¸ Ã€ faire â€” workflow `.github/workflows/ci.yml` Ã  finaliser                                               |
| Mesurer la couverture de tests (pytest-cov)         | âš ï¸ Ã€ faire â€” viser 70%+ ; configuration pytest.ini suggÃ©rÃ©e mais coverage rÃ©elle Ã  vÃ©rifier                |

---

## ğŸŸ¡ PRIORITÃ‰ 3 â€” Architecture & ScalabilitÃ©
| TÃ¢che                                                   | Statut                                                            |
| ------------------------------------------------------- | ----------------------------------------------------------------- |
| Introduire une Scraper Factory                          | âœ… Fait                                                        |
| CrÃ©er une classe `ScraperRunner`                        | âœ… Fait  â€” multi-thread et reporting uniforme Ã  prÃ©voir         |
| Centraliser la configuration globale (`core/config.py`) | âœ… Fait                                                         |
| Isoler la configuration externe (.env)                  | âœ… Fait â€” scrapers ne font plus `os.getenv` directement            |
| Ajouter un mode â€œoffline testâ€ (cache)                  | âœ… Fait â€” `JSONCache` fonctionnel et intÃ©grÃ© dans `multi_scrap.py` |


---

## ğŸŸ¢ PRIORITÃ‰ 4 â€” Documentation & Packaging
| TÃ¢che                          | Statut                                                   |
| ------------------------------ | -------------------------------------------------------- |
| CrÃ©er `pyproject.toml`         | âœ… Fait â€” contient black, isort, ruff, mypy               |
| RÃ©diger `README.md`            | âœ… Fait                                              |
| CrÃ©er `CONTRIBUTING.md`        | âœ… Fait                                               |
| Nettoyer `requirements.txt`    | âœ… Fait â€” versions verrouillÃ©es, libs inutiles supprimÃ©es |
| Documenter les modules `core/` | âš ï¸ Ã€ faire â€” ajouter docstrings dÃ©taillÃ©es               |


---

## âš™ï¸ BONUS â€” Optimisations & Ã‰volutivitÃ©
| TÃ¢che                                         | Statut                                          |
| --------------------------------------------- | ----------------------------------------------- |
| Ajouter retry/backoff dans `core/http_client` | âš ï¸ Ã€ faire                                      |
| ImplÃ©menter un cache (SQLite ou JSON)         | âœ… Fait â€” `JSONCache` utilisÃ©                    |
| CrÃ©er un reporting enrichi (JSON/HTML)        | âš ï¸ Ã€ faire                                      |
| PrÃ©parer lâ€™API REST (FastAPI/Flask)           | âš ï¸ Ã€ faire                                      |
| Renommer fonctions/fichiers incohÃ©rents       | âš ï¸ Ã€ faire â€” vÃ©rification snake_case/PascalCase |

---

## ğŸ§© PLAN Dâ€™ACTION SYNTHÃ‰TIQUE
| Vague | Objectif | TÃ¢ches concernÃ©es | DurÃ©e estimÃ©e |
|-------|-----------|------------------|----------------|
| **1ï¸âƒ£ Vague 1** | Nettoyage & testabilitÃ© | 1â€“5 | ~1 jour | OK
| **2ï¸âƒ£ Vague 2** | Outillage qualitÃ© | 6â€“10 | ~2 jours | OK
| **3ï¸âƒ£ Vague 3** | Architecture modulaire | 11â€“15 | ~3 jours |
| **4ï¸âƒ£ Vague 4** | Packaging & documentation | 16â€“20 | ~3 jours |
| **5ï¸âƒ£ Bonus** | ScalabilitÃ© & API future | 21â€“25 | libre |

---

âœ… **Objectif global** :  
Code centralisÃ©, testable, typÃ©, extensible et documentÃ© â€” prÃªt Ã  accueillir de nouveaux scrapers et une API de consultation.

